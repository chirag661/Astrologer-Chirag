<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>üîÆ Chiru Reader ‚Äì PWA Icon Generator</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    min-height: 100vh;
    background: #0a0a2e;
    color: #fff;
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 20px;
  }
  h1 { font-size: 24px; margin-bottom: 8px; }
  p.sub { color: #a78bfa; margin-bottom: 30px; font-size: 14px; }
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 20px;
    max-width: 900px;
    width: 100%;
    margin-bottom: 30px;
  }
  .icon-card {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(124,58,237,0.3);
    border-radius: 16px;
    padding: 20px;
    text-align: center;
  }
  .icon-card canvas {
    border-radius: 12px;
    max-width: 100%;
    height: auto;
    margin-bottom: 12px;
    background: #0a0a2e;
  }
  .icon-card .label {
    font-size: 13px;
    color: #a78bfa;
    margin-bottom: 8px;
  }
  .icon-card a {
    display: inline-block;
    padding: 8px 16px;
    background: linear-gradient(135deg, #7c3aed, #4c1d95);
    color: #fff;
    text-decoration: none;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 600;
    transition: transform 0.2s;
  }
  .icon-card a:hover { transform: scale(1.05); }
  .btn-all {
    padding: 14px 40px;
    background: linear-gradient(135deg, #00f5ff, #7c3aed);
    color: #0a0a2e;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: transform 0.2s;
    margin-bottom: 20px;
  }
  .btn-all:hover { transform: scale(1.05); }
  .instructions {
    max-width: 600px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(124,58,237,0.2);
    border-radius: 12px;
    padding: 20px;
    font-size: 13px;
    line-height: 1.8;
    color: #ccc;
  }
  .instructions strong { color: #00f5ff; }
  .instructions code {
    background: rgba(0,245,255,0.1);
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 12px;
    color: #00f5ff;
  }
</style>
</head>
<body>

<h1>üîÆ PWA Icon Generator</h1>
<p class="sub">Generates all 8 icon sizes from the app logo</p>

<button class="btn-all" onclick="downloadAll()">‚¨áÔ∏è Download All Icons</button>

<div class="grid" id="grid"></div>

<div class="instructions">
  <strong>üìå Instructions:</strong><br/>
  1. Click <strong>"Download All Icons"</strong> to get all 8 PNG files.<br/>
  2. Place them in your project: <code>public/icons/</code><br/>
  3. File names must be exactly:<br/>
  <code>icon-72x72.png</code>, <code>icon-96x96.png</code>, <code>icon-128x128.png</code>,
  <code>icon-144x144.png</code>, <code>icon-152x152.png</code>, <code>icon-192x192.png</code>,
  <code>icon-384x384.png</code>, <code>icon-512x512.png</code><br/><br/>
  <strong>‚úÖ These icons match the favicon.svg design.</strong>
</div>

<script>
const SIZES = [72, 96, 128, 144, 152, 192, 384, 512];
const canvases = {};

function drawIcon(canvas, size) {
  canvas.width = size;
  canvas.height = size;
  const ctx = canvas.getContext('2d');
  const s = size / 512; // scale factor

  // Background
  const bgGrad = ctx.createRadialGradient(256*s, 230*s, 0, 256*s, 256*s, 280*s);
  bgGrad.addColorStop(0, '#1a0a3e');
  bgGrad.addColorStop(0.5, '#0f0628');
  bgGrad.addColorStop(1, '#070215');

  // Rounded rect background
  const r = 96 * s;
  roundRect(ctx, 0, 0, size, size, r);
  ctx.fillStyle = bgGrad;
  ctx.fill();

  // Stars
  const stars = [
    [80,70,1.5,0.7],[420,90,1,0.5],[130,420,1.2,0.6],[390,400,1.5,0.4],
    [60,250,1,0.5],[450,230,1.3,0.6],[200,60,1,0.4],[350,450,1,0.5],
    [100,150,0.8,0.3],[400,320,1.2,0.4]
  ];
  stars.forEach(([x,y,rad,op]) => {
    ctx.beginPath();
    ctx.arc(x*s, y*s, Math.max(rad*s, 0.5), 0, Math.PI*2);
    ctx.fillStyle = `rgba(255,255,255,${op})`;
    ctx.fill();
  });

  // Outer ring
  ctx.beginPath();
  ctx.arc(256*s, 246*s, 185*s, 0, Math.PI*2);
  ctx.strokeStyle = 'rgba(0,245,255,0.3)';
  ctx.lineWidth = Math.max(1.5*s, 0.5);
  ctx.stroke();

  // Orb glow
  const orbGrad = ctx.createRadialGradient(256*s, 246*s, 0, 256*s, 246*s, 120*s);
  orbGrad.addColorStop(0, 'rgba(0,245,255,0.25)');
  orbGrad.addColorStop(0.4, 'rgba(124,58,237,0.15)');
  orbGrad.addColorStop(1, 'rgba(26,10,62,0)');
  ctx.beginPath();
  ctx.arc(256*s, 246*s, 120*s, 0, Math.PI*2);
  ctx.fillStyle = orbGrad;
  ctx.fill();

  // Palm hand
  ctx.save();
  ctx.translate(256*s, 250*s);
  ctx.scale(s, s);

  // Hand outline
  ctx.beginPath();
  ctx.moveTo(-55, 60);
  ctx.bezierCurveTo(-55,30, -50,-10, -48,-30);
  ctx.bezierCurveTo(-46,-45, -40,-55, -30,-70);
  ctx.lineTo(-28,-90);
  ctx.bezierCurveTo(-28,-105, -18,-115, -10,-115);
  ctx.bezierCurveTo(-2,-115, 4,-105, 4,-90);
  ctx.lineTo(2,-65);
  ctx.lineTo(5,-95);
  ctx.bezierCurveTo(5,-115, 12,-128, 22,-128);
  ctx.bezierCurveTo(32,-128, 38,-115, 38,-95);
  ctx.lineTo(32,-60);
  ctx.lineTo(36,-90);
  ctx.bezierCurveTo(36,-108, 43,-118, 52,-118);
  ctx.bezierCurveTo(61,-118, 66,-108, 66,-90);
  ctx.lineTo(58,-50);
  ctx.lineTo(60,-72);
  ctx.bezierCurveTo(60,-87, 66,-95, 74,-95);
  ctx.bezierCurveTo(82,-95, 86,-87, 86,-72);
  ctx.lineTo(80,-30);
  ctx.bezierCurveTo(78,10, 70,50, 55,70);
  ctx.bezierCurveTo(40,90, 20,100, -5,100);
  ctx.bezierCurveTo(-30,100, -50,85, -55,60);
  ctx.closePath();

  const palmStroke = ctx.createLinearGradient(-55, -128, 86, 100);
  palmStroke.addColorStop(0, 'rgba(0,245,255,0.8)');
  palmStroke.addColorStop(1, 'rgba(167,139,250,0.6)');
  ctx.strokeStyle = palmStroke;
  ctx.lineWidth = 2.5;
  ctx.lineCap = 'round';
  ctx.lineJoin = 'round';
  ctx.stroke();

  // Heart line
  ctx.beginPath();
  ctx.moveTo(-35, 5);
  ctx.bezierCurveTo(-20,-8, 5,-12, 30,-3);
  ctx.strokeStyle = 'rgba(0,245,255,0.7)';
  ctx.lineWidth = 1.5;
  ctx.stroke();

  // Head line
  ctx.beginPath();
  ctx.moveTo(-38, 22);
  ctx.bezierCurveTo(-15,18, 15,20, 40,28);
  ctx.strokeStyle = 'rgba(167,139,250,0.7)';
  ctx.lineWidth = 1.5;
  ctx.stroke();

  // Life line
  ctx.beginPath();
  ctx.moveTo(-30, -20);
  ctx.bezierCurveTo(-35,10, -38,40, -30,65);
  ctx.strokeStyle = 'rgba(124,58,237,0.7)';
  ctx.lineWidth = 1.5;
  ctx.stroke();

  // Eye in palm
  ctx.beginPath();
  ctx.moveTo(-18, 12);
  ctx.bezierCurveTo(-8,0, 8,0, 18,12);
  ctx.bezierCurveTo(8,24, -8,24, -18,12);
  ctx.closePath();
  ctx.strokeStyle = 'rgba(0,245,255,0.8)';
  ctx.lineWidth = 1.5;
  ctx.stroke();

  // Iris
  const irisGrad = ctx.createRadialGradient(0,12,0, 0,12,5);
  irisGrad.addColorStop(0, '#00f5ff');
  irisGrad.addColorStop(1, '#7c3aed');
  ctx.beginPath();
  ctx.arc(0, 12, 5, 0, Math.PI*2);
  ctx.fillStyle = irisGrad;
  ctx.fill();

  // Pupil
  ctx.beginPath();
  ctx.arc(0, 12, 2, 0, Math.PI*2);
  ctx.fillStyle = '#0a0a2e';
  ctx.fill();

  // Glint
  ctx.beginPath();
  ctx.arc(2, 10, 1, 0, Math.PI*2);
  ctx.fillStyle = '#ffffff';
  ctx.fill();

  ctx.restore();

  // Decorative stars (4-point)
  drawStar(ctx, 95*s, 95*s, 8*s, '#00f5ff', 0.7);
  drawStar(ctx, 417*s, 105*s, 6*s, '#a78bfa', 0.6);
  drawStar(ctx, 105*s, 390*s, 5*s, '#7c3aed', 0.5);
  drawStar(ctx, 400*s, 380*s, 7*s, '#00f5ff', 0.5);

  // Crescent moon
  ctx.save();
  ctx.translate(256*s, 90*s);
  ctx.rotate(30 * Math.PI / 180);
  ctx.beginPath();
  ctx.arc(0, 0, 20*s, 0, Math.PI*2);
  ctx.fillStyle = 'rgba(167,139,250,0.5)';
  ctx.fill();
  ctx.beginPath();
  ctx.arc(6*s, -4*s, 16*s, 0, Math.PI*2);
  ctx.fillStyle = bgGrad;
  ctx.fill();
  ctx.restore();

  // App name
  if (size >= 128) {
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';

    ctx.font = `700 ${36*s}px serif`;
    ctx.fillStyle = 'rgba(255,255,255,0.9)';
    ctx.letterSpacing = `${4*s}px`;
    ctx.fillText('CHIRU', 256*s, 428*s);

    ctx.font = `400 ${14*s}px sans-serif`;
    ctx.fillStyle = 'rgba(167,139,250,0.7)';
    ctx.fillText('R E A D E R', 256*s, 460*s);
  }
}

function roundRect(ctx, x, y, w, h, r) {
  ctx.beginPath();
  ctx.moveTo(x+r, y);
  ctx.lineTo(x+w-r, y);
  ctx.quadraticCurveTo(x+w, y, x+w, y+r);
  ctx.lineTo(x+w, y+h-r);
  ctx.quadraticCurveTo(x+w, y+h, x+w-r, y+h);
  ctx.lineTo(x+r, y+h);
  ctx.quadraticCurveTo(x, y+h, x, y+h-r);
  ctx.lineTo(x, y+r);
  ctx.quadraticCurveTo(x, y, x+r, y);
  ctx.closePath();
}

function drawStar(ctx, cx, cy, size, color, opacity) {
  ctx.save();
  ctx.globalAlpha = opacity;
  ctx.fillStyle = color;
  ctx.beginPath();
  ctx.moveTo(cx, cy - size);
  ctx.lineTo(cx + size*0.25, cy - size*0.25);
  ctx.lineTo(cx + size, cy);
  ctx.lineTo(cx + size*0.25, cy + size*0.25);
  ctx.lineTo(cx, cy + size);
  ctx.lineTo(cx - size*0.25, cy + size*0.25);
  ctx.lineTo(cx - size, cy);
  ctx.lineTo(cx - size*0.25, cy - size*0.25);
  ctx.closePath();
  ctx.fill();
  ctx.restore();
}

function downloadCanvas(canvas, size) {
  const link = document.createElement('a');
  link.download = `icon-${size}x${size}.png`;
  link.href = canvas.toDataURL('image/png');
  link.click();
}

function downloadAll() {
  SIZES.forEach((size, i) => {
    setTimeout(() => {
      downloadCanvas(canvases[size], size);
    }, i * 300);
  });
}

// Build grid
const grid = document.getElementById('grid');
SIZES.forEach(size => {
  const card = document.createElement('div');
  card.className = 'icon-card';

  const canvas = document.createElement('canvas');
  canvas.style.width = Math.min(size, 180) + 'px';
  canvas.style.height = Math.min(size, 180) + 'px';
  canvases[size] = canvas;

  const label = document.createElement('div');
  label.className = 'label';
  label.textContent = `${size} √ó ${size}px`;

  const btn = document.createElement('a');
  btn.href = '#';
  btn.textContent = '‚¨áÔ∏è Download';
  btn.onclick = (e) => { e.preventDefault(); downloadCanvas(canvas, size); };

  card.appendChild(canvas);
  card.appendChild(label);
  card.appendChild(btn);
  grid.appendChild(card);

  drawIcon(canvas, size);
});
</script>
</body>
</html>
